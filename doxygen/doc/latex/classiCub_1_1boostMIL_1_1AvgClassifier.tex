\section{i\+Cub\+:\+:boost\+M\+I\+L\+:\+:Avg\+Classifier Class Reference}
\label{classiCub_1_1boostMIL_1_1AvgClassifier}\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}


Avg Classifier.  




{\ttfamily \#include $<$Avg\+Classifier.\+h$>$}

Inheritance diagram for i\+Cub\+:\+:boost\+M\+I\+L\+:\+:Avg\+Classifier\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classiCub_1_1boostMIL_1_1AvgClassifier}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries Avg\+Classifier} (const int \&\+\_\+type, yarp\+::os\+::\+Resource\+Finder \&\+\_\+resource, std\+::deque$<$ \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier}{Weak\+Classifier} $\ast$ $>$ $\ast$\+\_\+function\+\_\+space)\label{classiCub_1_1boostMIL_1_1AvgClassifier_afb39c1b839f4c26bd326d34ef54cd0d7}

\item 
{\bfseries Avg\+Classifier} (const std\+::string \&\+\_\+type, yarp\+::os\+::\+Resource\+Finder \&\+\_\+resource, std\+::deque$<$ \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier}{Weak\+Classifier} $\ast$ $>$ $\ast$\+\_\+function\+\_\+space)\label{classiCub_1_1boostMIL_1_1AvgClassifier_af8bf2ed549e424970836928af9f66b75}

\item 
virtual bool \hyperlink{classiCub_1_1boostMIL_1_1AvgClassifier_a18686e10e582a3e614f5748825434081}{is\+Ready} ()
\begin{DoxyCompactList}\small\item\em Updates the classifier and verifies if it is ready to be trained and to classify. \end{DoxyCompactList}\item 
virtual void \hyperlink{classiCub_1_1boostMIL_1_1AvgClassifier_a41e88fc8ff3b1ded52e0b2e9676fed96}{clear} ()
\begin{DoxyCompactList}\small\item\em Clear Method. \end{DoxyCompactList}\item 
virtual std\+::string \hyperlink{classiCub_1_1boostMIL_1_1AvgClassifier_aaaaf59125fa1f18075bc70e822b1055c}{to\+String} () const 
\begin{DoxyCompactList}\small\item\em Encodes the classifier in a single string. \end{DoxyCompactList}\item 
virtual void \hyperlink{classiCub_1_1boostMIL_1_1AvgClassifier_a924700fb2f5924e6a68a65cf827cf5f5}{from\+Stream} (std\+::ifstream \&fin)
\begin{DoxyCompactList}\small\item\em Loads a classifier from a string. \end{DoxyCompactList}\item 
virtual void \hyperlink{classiCub_1_1boostMIL_1_1AvgClassifier_ad02e72d71dbcc0abc2898752b57c3be1}{to\+Stream} (std\+::ofstream \&fout) const 
\begin{DoxyCompactList}\small\item\em Encodes the classifier in a single string. \end{DoxyCompactList}\item 
virtual void \hyperlink{classiCub_1_1boostMIL_1_1AvgClassifier_af820cbae5ef07d597d568597bf09d534}{from\+String} (const std\+::string \&str)
\begin{DoxyCompactList}\small\item\em Loads a classifier from a string. \end{DoxyCompactList}\item 
virtual int \hyperlink{classiCub_1_1boostMIL_1_1AvgClassifier_aa843a13c666b5ef24fbceb1245d0b3e7}{classify} (const Inputs $\ast$input, Output $\ast$output) const 
\begin{DoxyCompactList}\small\item\em Classifies the given input. \end{DoxyCompactList}\item 
virtual double \hyperlink{classiCub_1_1boostMIL_1_1AvgClassifier_a9b4b32754ae278c07406da91ddc0ece7}{margin} (const Inputs $\ast$input, Output $\ast$output) const 
\begin{DoxyCompactList}\small\item\em Margin given the input. \end{DoxyCompactList}\item 
virtual void \hyperlink{classiCub_1_1boostMIL_1_1AvgClassifier_ab6da9e17e44ee65c40b854b2d4ff4a52}{update} (const Inputs $\ast$input, double \&weight)
\begin{DoxyCompactList}\small\item\em Updates the classifier with respect to an input with associated weight. \end{DoxyCompactList}\item 
std\+::string \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_aa5de990b0baac11f35f74493ca853ac5}{get\+Type} () const 
\begin{DoxyCompactList}\small\item\em Returns the classifier type information. \end{DoxyCompactList}\item 
double \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a525811a7380bcfd3cbc1edbe90e0842a}{get\+Error} () const 
\begin{DoxyCompactList}\small\item\em Returns the current error exhibited by the classifier. \end{DoxyCompactList}\item 
virtual double \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a8f9de230214c99305df65010e5ddbe77}{error\+\_\+rate} (const std\+::list$<$ Inputs $\ast$ $>$ \&dataset)
\begin{DoxyCompactList}\small\item\em Returns the error rate of the classifier over a given dataset assuming uniform weight distribution. \end{DoxyCompactList}\item 
virtual double \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a294f03d21af03a5f96875562a5a979a0}{error\+\_\+rate} (const std\+::list$<$ Inputs $\ast$ $>$ \&dataset, const std\+::list$<$ double $>$ \&weights)
\begin{DoxyCompactList}\small\item\em Returns the error rate of the classifier over a given dataset with specified weight distribution. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
yarp\+::os\+::\+Resource\+Finder \& \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a5a7df0cc2cbb505e5b40dd59d3a4933b}{resource}\label{classiCub_1_1boostMIL_1_1WeakClassifier_a5a7df0cc2cbb505e5b40dd59d3a4933b}

\begin{DoxyCompactList}\small\item\em Resource containing the parameters information. \end{DoxyCompactList}\item 
std\+::string \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a6e08c26ea2e12086317d6cdd0f65bbd9}{type}\label{classiCub_1_1boostMIL_1_1WeakClassifier_a6e08c26ea2e12086317d6cdd0f65bbd9}

\begin{DoxyCompactList}\small\item\em The type associated to the \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier}{Weak\+Classifier}. \end{DoxyCompactList}\item 
double \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_afa9e7bb9b9a92d349b40a4f127386a59}{error}\label{classiCub_1_1boostMIL_1_1WeakClassifier_afa9e7bb9b9a92d349b40a4f127386a59}

\begin{DoxyCompactList}\small\item\em Last computed error. \end{DoxyCompactList}\item 
bool \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a7fe5fe3366a82def4031c16a9a278350}{ready}\label{classiCub_1_1boostMIL_1_1WeakClassifier_a7fe5fe3366a82def4031c16a9a278350}

\begin{DoxyCompactList}\small\item\em Checks if the \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier}{Weak\+Classifier} has been initialized. \end{DoxyCompactList}\item 
bool \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a63a5602437f6936da17e33ca4d89976a}{verbose}\label{classiCub_1_1boostMIL_1_1WeakClassifier_a63a5602437f6936da17e33ca4d89976a}

\begin{DoxyCompactList}\small\item\em Allows prints by the boost\+M\+I\+L library. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Avg Classifier. 

Definition at line 93 of file Avg\+Classifier.\+h.



\subsection{Member Function Documentation}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!classify@{classify}}
\index{classify@{classify}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{classify}]{\setlength{\rightskip}{0pt plus 5cm}int Avg\+Classifier\+::classify (
\begin{DoxyParamCaption}
\item[{const Inputs $\ast$}]{input, }
\item[{Output $\ast$}]{output}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\label{classiCub_1_1boostMIL_1_1AvgClassifier_aa843a13c666b5ef24fbceb1245d0b3e7}


Classifies the given input. 


\begin{DoxyParams}{Parameters}
{\em input} & the input to classify. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1,-\/1 or 0 if the classifier classifies the input (respectively)\+: positive, negative or undetermined (e.\+g. the classifier is not ready to classify yet). 
\end{DoxyReturn}


Implements \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a8a3fe3145859ef045f4b7e3f1a61d984}{i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier}.



Definition at line 141 of file Avg\+Classifier.\+cpp.



References margin().


\begin{DoxyCode}
142 \{
143     \textcolor{keywordflow}{if}(this->margin(input,output)>threshold)
144         \textcolor{keywordflow}{return} 1;
145     \textcolor{keywordflow}{else}
146         \textcolor{keywordflow}{return} -1;
147 \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!clear@{clear}}
\index{clear@{clear}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void Avg\+Classifier\+::clear (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classiCub_1_1boostMIL_1_1AvgClassifier_a41e88fc8ff3b1ded52e0b2e9676fed96}


Clear Method. 

Returns the classifier to its original condition (Pre-\/initialization). 

Implements \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_ae5e3b28921109788e872ab6c035502f1}{i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier}.



Definition at line 101 of file Avg\+Classifier.\+cpp.



References i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::ready.



Referenced by from\+Stream(), and from\+String().


\begin{DoxyCode}
102 \{
103     ready=\textcolor{keyword}{false};
104 
105     \textcolor{keywordflow}{if}(!threshold\_fixed)
106         threshold=1.0;
107 
108     posweight       = 0.0;
109     negweight       = 0.0;
110 
111     pool\_size = 0;
112     \textcolor{keywordflow}{while}(pool.size())
113     \{
114         \textcolor{keyword}{delete} pool.back();
115         pool.pop\_back();
116     \}
117 
118     correct.clear();
119     wrong.clear();
120     alpha.clear();
121 \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!error\+\_\+rate@{error\+\_\+rate}}
\index{error\+\_\+rate@{error\+\_\+rate}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{error\+\_\+rate}]{\setlength{\rightskip}{0pt plus 5cm}virtual double i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::error\+\_\+rate (
\begin{DoxyParamCaption}
\item[{const std\+::list$<$ Inputs $\ast$ $>$ \&}]{dataset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}\label{classiCub_1_1boostMIL_1_1WeakClassifier_a8f9de230214c99305df65010e5ddbe77}


Returns the error rate of the classifier over a given dataset assuming uniform weight distribution. 


\begin{DoxyParams}{Parameters}
{\em dataset} & the datataset over which compute the error rate. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the error rate. 
\end{DoxyReturn}


Definition at line 158 of file Weak\+Classifier.\+h.


\begin{DoxyCode}
159     \{
160         std::list<double> weights(dataset.size(),1.0/dataset.size());
161         \textcolor{keywordflow}{return} error_rate(dataset,weights);
162     \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!error\+\_\+rate@{error\+\_\+rate}}
\index{error\+\_\+rate@{error\+\_\+rate}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{error\+\_\+rate}]{\setlength{\rightskip}{0pt plus 5cm}virtual double i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::error\+\_\+rate (
\begin{DoxyParamCaption}
\item[{const std\+::list$<$ Inputs $\ast$ $>$ \&}]{dataset, }
\item[{const std\+::list$<$ double $>$ \&}]{weights}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}\label{classiCub_1_1boostMIL_1_1WeakClassifier_a294f03d21af03a5f96875562a5a979a0}


Returns the error rate of the classifier over a given dataset with specified weight distribution. 


\begin{DoxyParams}{Parameters}
{\em dataset} & the datataset over which compute the error rate. \\
\hline
{\em weights} & the weight distribution over the given dataset. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the error rate. 
\end{DoxyReturn}


Definition at line 171 of file Weak\+Classifier.\+h.



References i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::classify().


\begin{DoxyCode}
172     \{
173         \textcolor{keywordtype}{double} e = 0.0;
174         std::list<Inputs*>   ::const\_iterator d\_itr = dataset.begin();
175         std::list<double>    ::const\_iterator w\_itr = weights.begin();
176         \textcolor{keywordflow}{while}(d\_itr != dataset.begin())
177         \{
178             \textcolor{keywordflow}{if}(classify(*d\_itr) != (*d\_itr)->getLabel())
179                 e += *w\_itr;
180             d\_itr++;
181         \}
182         \textcolor{keywordflow}{return} e;
183     \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!from\+Stream@{from\+Stream}}
\index{from\+Stream@{from\+Stream}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{from\+Stream}]{\setlength{\rightskip}{0pt plus 5cm}void Avg\+Classifier\+::from\+Stream (
\begin{DoxyParamCaption}
\item[{std\+::ifstream \&}]{fin}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classiCub_1_1boostMIL_1_1AvgClassifier_a924700fb2f5924e6a68a65cf827cf5f5}


Loads a classifier from a string. 


\begin{DoxyParams}{Parameters}
{\em the} & string encoding the classifier to be loaded \\
\hline
\end{DoxyParams}


Implements \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_ab33627f7dd2c377635f653add1a55107}{i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier}.



Definition at line 330 of file Avg\+Classifier.\+cpp.



References clear(), i\+Cub\+::boost\+M\+I\+L\+::\+Classifier\+Factory\+::create(), i\+Cub\+::boost\+M\+I\+L\+::\+Classifier\+Factory\+::instance(), and is\+Ready().


\begin{DoxyCode}
331 \{
332     clear();
333 
334     fin.read((\textcolor{keywordtype}{char}*)&posweight,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
335     fin.read((\textcolor{keywordtype}{char}*)&negweight,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
336 
337     fin.read((\textcolor{keywordtype}{char}*)&threshold,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
338     fin.read((\textcolor{keywordtype}{char}*)&pool\_size,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));
339 
340 
341     correct.resize(pool\_size);
342     wrong.resize(pool\_size);
343     alpha.resize(pool\_size);
344     pool.resize(pool\_size);
345 
346     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<pool\_size; i++)
347     \{
348         fin.read((\textcolor{keywordtype}{char}*)&correct[i],\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
349         fin.read((\textcolor{keywordtype}{char}*)&wrong[i],\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
350         alpha[i]=1.0/(1+exp((\textcolor{keywordtype}{double})-(correct[i]-wrong[i]) ) );
351         \textcolor{comment}{//alpha[i]=log(sqrt((double)correct[i]/(wrong[i]+0.000001)));}
352 
353         \textcolor{keywordtype}{int} size\_of\_type;
354         fin.read((\textcolor{keywordtype}{char}*)&size\_of\_type,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));
355         \textcolor{keywordtype}{char} *wc\_type=\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size\_of\_type+1];
356         fin.read((\textcolor{keywordtype}{char}*)wc\_type,size\_of\_type*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));
357 
358         wc\_type[size\_of\_type]=\textcolor{charliteral}{'\(\backslash\)0'};
359 
360         pool[i]=ClassifierFactory::instance().create(wc\_type);
361         \textcolor{keyword}{delete} [] wc\_type;
362 
363         pool[i]->fromStream(fin);
364     \}
365 
366     isReady();
367 \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!from\+String@{from\+String}}
\index{from\+String@{from\+String}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{from\+String}]{\setlength{\rightskip}{0pt plus 5cm}void Avg\+Classifier\+::from\+String (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{str}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classiCub_1_1boostMIL_1_1AvgClassifier_af820cbae5ef07d597d568597bf09d534}


Loads a classifier from a string. 


\begin{DoxyParams}{Parameters}
{\em the} & string encoding the classifier to be loaded \\
\hline
\end{DoxyParams}


Implements \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_af7011a7e50ca01dea310c3d25fd3a84b}{i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier}.



Definition at line 402 of file Avg\+Classifier.\+cpp.



References clear(), i\+Cub\+::boost\+M\+I\+L\+::\+Classifier\+Factory\+::instance(), is\+Ready(), and i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::type.


\begin{DoxyCode}
403 \{
404     clear();
405 
406     yarp::os::Bottle bLoader(str.c\_str());
407 
408     type=bLoader.find(\textcolor{stringliteral}{"type"}).asString().c\_str();
409 
410     posweight=bLoader.find(\textcolor{stringliteral}{"posweight"}).asDouble();
411     negweight=bLoader.find(\textcolor{stringliteral}{"negweight"}).asDouble();
412 
413     threshold=bLoader.find(\textcolor{stringliteral}{"threshold"}).asDouble();
414     yarp::os::Bottle *bPool=bLoader.find(\textcolor{stringliteral}{"pool"}).asList();
415 
416 
417     pool\_size=bPool->size();
418     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<pool\_size; i++)
419     \{
420         yarp::os::Bottle *bElement=bPool->get(i).asList();
421         correct.push\_back(bElement->find(\textcolor{stringliteral}{"correct"}).asDouble());
422         wrong.push\_back(bElement->find(\textcolor{stringliteral}{"wrong"}).asDouble());
423 
424         yarp::os::Bottle *bWL=bElement->find(\textcolor{stringliteral}{"weak\_classifier"}).asList();
425         pool.push\_back(ClassifierFactory::instance().create(bWL->find(\textcolor{stringliteral}{"type"}).asString().c\_str()));
426         pool.back()->fromString(bWL->toString().c\_str());
427     \}
428 
429     isReady();
430 \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!get\+Error@{get\+Error}}
\index{get\+Error@{get\+Error}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{get\+Error}]{\setlength{\rightskip}{0pt plus 5cm}double i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::get\+Error (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [inherited]}}\label{classiCub_1_1boostMIL_1_1WeakClassifier_a525811a7380bcfd3cbc1edbe90e0842a}


Returns the current error exhibited by the classifier. 

\begin{DoxyReturn}{Returns}
the current error. 
\end{DoxyReturn}


Definition at line 140 of file Weak\+Classifier.\+h.



References i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::error.



Referenced by i\+Cub\+::boost\+M\+I\+L\+::\+Ada\+Boost\+::train(), and i\+Cub\+::boost\+M\+I\+L\+::\+Online\+Boost\+::update().


\begin{DoxyCode}
140 \{\textcolor{keywordflow}{return} error;\}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!get\+Type@{get\+Type}}
\index{get\+Type@{get\+Type}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{get\+Type}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::get\+Type (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [inherited]}}\label{classiCub_1_1boostMIL_1_1WeakClassifier_aa5de990b0baac11f35f74493ca853ac5}


Returns the classifier type information. 

\begin{DoxyReturn}{Returns}
the type of the classifier 
\end{DoxyReturn}


Definition at line 133 of file Weak\+Classifier.\+h.



References i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::type.



Referenced by i\+Cub\+::boost\+M\+I\+L\+::\+Classifier\+Factory\+::register\+Classifier(), i\+Cub\+::boost\+M\+I\+L\+::\+Selector\+Classifier\+::to\+Stream(), i\+Cub\+::boost\+M\+I\+L\+::\+Online\+Boost\+::to\+Stream(), i\+Cub\+::boost\+M\+I\+L\+::\+Online\+Support\+::to\+Stream(), to\+Stream(), and i\+Cub\+::boost\+M\+I\+L\+::\+Strong\+Classifier\+::to\+Stream().


\begin{DoxyCode}
133 \{\textcolor{keywordflow}{return} type;\}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!is\+Ready@{is\+Ready}}
\index{is\+Ready@{is\+Ready}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{is\+Ready}]{\setlength{\rightskip}{0pt plus 5cm}bool Avg\+Classifier\+::is\+Ready (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classiCub_1_1boostMIL_1_1AvgClassifier_a18686e10e582a3e614f5748825434081}


Updates the classifier and verifies if it is ready to be trained and to classify. 

\begin{DoxyReturn}{Returns}
true if and only if the classifier is ready. 
\end{DoxyReturn}


Implements \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a58f22b59c3308ae58a5d8df4ea5026e1}{i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier}.



Definition at line 151 of file Avg\+Classifier.\+cpp.



References i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::ready.



Referenced by from\+Stream(), and from\+String().


\begin{DoxyCode}
152 \{
153     ready = \textcolor{keyword}{true};
154     \textcolor{comment}{//if the selector is not empty}
155 
156     \textcolor{keywordflow}{if}(pool\_size)
157     \{
158         
159         \textcolor{comment}{//fill the pool with new WeakClassifiers with the elements in the function\_space list}
160         \textcolor{keywordflow}{while}(pool.size() < (unsigned) pool\_size && function\_space->size())
161         \{
162             pool.push\_back(function\_space->front());
163             function\_space->pop\_front();
164         \}
165 
166         \textcolor{comment}{//if the selector is still not completly filled it is not ready}
167         \textcolor{keywordflow}{if}(pool.size() != pool\_size)
168             ready = \textcolor{keyword}{false};
169 
170         
171         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < pool.size(); i++)
172             \textcolor{keywordflow}{if}(!pool[i]->isReady()) ready = \textcolor{keyword}{false};
173 
174     \}
175     \textcolor{keywordflow}{else}
176         ready = \textcolor{keyword}{false};
177 
178     \textcolor{keywordflow}{return} ready;
179 \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!margin@{margin}}
\index{margin@{margin}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{margin}]{\setlength{\rightskip}{0pt plus 5cm}double Avg\+Classifier\+::margin (
\begin{DoxyParamCaption}
\item[{const Inputs $\ast$}]{input, }
\item[{Output $\ast$}]{output}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\label{classiCub_1_1boostMIL_1_1AvgClassifier_a9b4b32754ae278c07406da91ddc0ece7}


Margin given the input. 


\begin{DoxyParams}{Parameters}
{\em input} & the input to classify. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the margin 
\end{DoxyReturn}


Reimplemented from \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a01b3c3834f0b0b81513ed49907bb2c16}{i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier}.



Definition at line 125 of file Avg\+Classifier.\+cpp.



References i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::ready.



Referenced by classify().


\begin{DoxyCode}
126 \{
127     \textcolor{keywordtype}{double} sum=0.0;
128     \textcolor{keywordflow}{if}(ready)
129     \{
130         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<pool\_size; i++)
131         \{
132             \textcolor{keywordtype}{double} w=alpha[i]>0.0?alpha[i]:0.0;
133             sum+=w*(0.5*(pool[i]->classify(input,output)+1) ); \textcolor{comment}{//0 1 instead of -1 1}
134         \}
135     \}
136 
137     \textcolor{keywordflow}{return} sum;
138 \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!to\+Stream@{to\+Stream}}
\index{to\+Stream@{to\+Stream}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{to\+Stream}]{\setlength{\rightskip}{0pt plus 5cm}void Avg\+Classifier\+::to\+Stream (
\begin{DoxyParamCaption}
\item[{std\+::ofstream \&}]{fout}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\label{classiCub_1_1boostMIL_1_1AvgClassifier_ad02e72d71dbcc0abc2898752b57c3be1}


Encodes the classifier in a single string. 



Implements \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a63b742b5667a287ad2445c85c87714bb}{i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier}.



Definition at line 301 of file Avg\+Classifier.\+cpp.



References i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::get\+Type(), and i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::ready.


\begin{DoxyCode}
302 \{
303     \textcolor{keywordflow}{if}(ready)
304     \{
305         fout.write((\textcolor{keywordtype}{char}*)&posweight,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
306         fout.write((\textcolor{keywordtype}{char}*)&negweight,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
307 
308         fout.write((\textcolor{keywordtype}{char}*)&threshold,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
309         fout.write((\textcolor{keywordtype}{char}*)&pool\_size,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));
310 
311         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<pool\_size; i++)
312         \{
313             fout.write((\textcolor{keywordtype}{char}*)&correct[i],\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
314             fout.write((\textcolor{keywordtype}{char}*)&wrong[i],\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
315 
316             \textcolor{keywordtype}{int} size\_of\_type=pool[i]->getType().size();
317             fout.write((\textcolor{keywordtype}{char}*)&size\_of\_type,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));
318 
319             \textcolor{keywordtype}{char} *wc\_type=\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size\_of\_type+1];
320             sprintf(wc\_type,\textcolor{stringliteral}{"%s"},pool[i]->getType().c\_str());
321             fout.write((\textcolor{keywordtype}{char}*)wc\_type,size\_of\_type*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));
322 
323             \textcolor{keyword}{delete} [] wc\_type;
324 
325             pool[i]->toStream(fout);
326         \}
327     \}
328 \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!to\+String@{to\+String}}
\index{to\+String@{to\+String}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{to\+String}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Avg\+Classifier\+::to\+String (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\label{classiCub_1_1boostMIL_1_1AvgClassifier_aaaaf59125fa1f18075bc70e822b1055c}


Encodes the classifier in a single string. 

\begin{DoxyReturn}{Returns}
a string encoding the current classifier form 
\end{DoxyReturn}


Implements \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a980cd41ba074e3bdbfec697e7bee06f0}{i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier}.



Definition at line 371 of file Avg\+Classifier.\+cpp.



References i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::ready, and i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier\+::type.


\begin{DoxyCode}
372 \{
373     \textcolor{keywordflow}{if}(ready)
374     \{
375         std::stringstream strstr;
376 
377         strstr << \textcolor{stringliteral}{"(type "} << type << \textcolor{stringliteral}{") "};
378 
379         strstr << \textcolor{stringliteral}{"(posweight "} << posweight << \textcolor{stringliteral}{") "};
380         strstr << \textcolor{stringliteral}{"(negweight "} << negweight << \textcolor{stringliteral}{") "};
381 
382         strstr << \textcolor{stringliteral}{"(threshold "} << threshold << \textcolor{stringliteral}{") "};
383         strstr << \textcolor{stringliteral}{"(pool ("};
384         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<pool.size(); i++)
385         \{
386             strstr << \textcolor{stringliteral}{"("};
387             strstr << \textcolor{stringliteral}{"(correct "} << correct[i] << \textcolor{stringliteral}{") "};
388             strstr << \textcolor{stringliteral}{"(wrong "} << wrong[i] << \textcolor{stringliteral}{") "};
389             strstr << \textcolor{stringliteral}{"(weak\_classifier ("} << pool[i]->toString() << \textcolor{stringliteral}{"))"};
390             strstr << \textcolor{stringliteral}{") "};
391         \}
392         strstr << \textcolor{stringliteral}{"))"};
393 
394         \textcolor{keywordflow}{return} strstr.str().c\_str();
395     \}
396     \textcolor{keywordflow}{else}
397         \textcolor{keywordflow}{return} \textcolor{stringliteral}{""};
398 \}
\end{DoxyCode}
\index{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}!update@{update}}
\index{update@{update}!i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier@{i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}virtual void i\+Cub\+::boost\+M\+I\+L\+::\+Avg\+Classifier\+::update (
\begin{DoxyParamCaption}
\item[{const Inputs $\ast$}]{input, }
\item[{double \&}]{weight}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classiCub_1_1boostMIL_1_1AvgClassifier_ab6da9e17e44ee65c40b854b2d4ff4a52}


Updates the classifier with respect to an input with associated weight. 

Usually an online method.


\begin{DoxyParams}{Parameters}
{\em input} & the input. \\
\hline
{\em the} & relevance weight associated to the given input. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classiCub_1_1boostMIL_1_1WeakClassifier_a651a2028d05c812c061a770d1fbe45b7}{i\+Cub\+::boost\+M\+I\+L\+::\+Weak\+Classifier}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/dev/icub-\/contrib-\/iit/boost-\/mil/lib/include/i\+Cub/boost\+M\+I\+L/Avg\+Classifier.\+h\item 
C\+:/dev/icub-\/contrib-\/iit/boost-\/mil/lib/src/Avg\+Classifier.\+cpp\end{DoxyCompactItemize}
